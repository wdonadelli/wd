<!DOCTYPE html>
<html class="wd">

	<head>
		<title>-- WD Web Library Lab --</title>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<meta name="keywords" content="wd, stylesheet, attributes, tools, HTML, CSS, javaScript, library, queryselector, handbook, github, donadelli, wdonadelli" />
		<meta name="author" content="Willian Donadelli"/>
		<meta name="description" content="WD Web Library Lab" />
		<meta name="rating" content="general" />
		<!--<meta http-equiv="pragma" content="no-cache" />-->
		<meta name="revisit-after" content="2 days" />
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<script src="../wd5.js"></script>
		<link  href="../wd5.css" rel="stylesheet" />
		<script>
function color_screen() {
	let time = wd.now.valueOf();
	if (time >= (6*60) && time < (18*60))
		wd.$$("body, main > article").css({add: "wd-bg-base"});
	else
		wd.$$("body, main > article").css({add: "wd-bg-black"});
	return;
}

let last_action = null;

function set_action(action) {
	last_action = action;
}

function get_action() {
	if (last_action !== null)
		wd.$$("#html-block, #text_code").data({
			wdLoad: "path{"+last_action+"}method{GET}"
		});
}

function get_html() {
	wd.$("#text_code").load(wd.$("#html-block").item(0).innerHTML);
}

function set_html() {
	wd.$("#html-block").load(wd.$("#text_code").item(0).value);
}


/* carregando disparadores */
wd(window).addHandler({
		load: function() {
			color_screen();

			wd.$("#code_apply").addHandler({click: set_html});
			wd.$("#code_reset").addHandler({click: get_action});
			wd.$("#code_get").addHandler({click: get_html});
		}
	})
		</script>
	</head>

<body>

	<main>

		<article class="wd-flyer">

			<header class="wd-hidden-print">
				<h2>WD Web Library Lab	</h2>
			</header>

			<!-- Navegador -->
			<nav class="wd-bg-grey wd-header wd-hidden-print">
				<span class="" data-wd-css="${#menu}tgl{wd-open}" id="bmenu">Menu</span>
				<span class="" data-wd-css="${#code-block}tgl{wd-hidden}" >Code</span>
				<span class="" data-wd-css="${html}tgl{wd}" >CSS</span>
				<span class="" data-wd-css="$${body, main > article}tgl{wd-bg-black wd-bg-base}" >Screen</span>
				<a href="../doc/" target="_blank">Doc</a>
				<a href="https://github.com/wdonadelli/wd/wiki" target="_blank">Wiki</a>
			</nav>

			<!-- Tela Principal -->
			<section data-wd-device="desktop{wd-col}">

				<!-- Lado Esquerdo -->
				<div class="wd-padd wd-hidden-print wd-hidden" id="code-block">

					<div class="wd-form">
						<div>
							<label>Code</label>
							<textarea id="text_code" style="height: 300px" class="wd-block wd-code"></textarea>
						</div>
					</div>

					<div class="wd-form-grid">
						<div>
							<button type="button" id="code_apply" data-wd-device="desktop{wd-icon-copy}" > Apply</button>
						</div>

						<div>
							<button type="button" id="code_reset" data-wd-device="desktop{wd-icon-close}" > Reset</button>
						</div>

						<div>
							<button type="button" id="code_get" data-wd-device="desktop{wd-icon-paste}" > Get</button>
						</div>
					</div>

				</div>

				<!-- Lado Direito -->
				<div id="html-block" class="wd-padd"></div>

			</section>

		</article>

	</main>



	<!-- MENU -->
	<div class="wd-modal" id="menu" data-wd-css="tgl{wd-open}">
		<div data-wd-device="desktop{wd-window-left}mobile{wd-window-full}" data-wd-no-bubbles="" style="width: 30%;">

			<article class="wd-flyer wd-bg-base">

				<header>
     <h4>Menu</h4>
    </header>

				<nav class="wd-header wd-bg-white">
					<span data-wd-click="" data-wd-nav="${#css_menu}">CSS</span>
					<span data-wd-nav="${#data_menu}">Data</span>
				</nav>

				<section>

					<div id="css_menu">
						<nav data-wd-repeat="path{menu/css_menu.json}method{GET}" class="wd-nav-block">
			    <span
								data-wd-css="tgl{wd-open}${#menu}"
								data-wd-data="wdLoad{path{css/{{target}}.html}method{GET}}$${#html-block, #text_code}"
								onclick="set_action('css/{{target}}.html');"
							>{{target}}</span>
			  	</nav>
					</div>

					<div id="data_menu">
						<nav data-wd-repeat="path{menu/data_menu.json}method{GET}" class="wd-nav-block">
			    <span
								data-wd-css="tgl{wd-open}${#menu}"
								data-wd-data="wdLoad{path{data/{{target}}.html}method{GET}}$${#html-block, #text_code}"
								onclick="set_action('data/{{target}}.html');"
							>{{target}}</span>
			  	</nav>
					</div>
				</section>
   </article>
	 </div>
	</div>

</body>
</html>
